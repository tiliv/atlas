---
---
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="Content-Security-Policy" content="
    default-src 'self';
    img-src 'self' https://img.shields.io;
    script-src 'self' 'unsafe-inline';
    style-src 'self' 'unsafe-inline';
  ">
  <link rel="stylesheet" href="/site.css">
  <script src="/preferences.js"></script>
  <script nonce="__init__">
    const preferences = PREFERENCES("{{ page.preferences }}"); // Scoped localStorage proxy
    const prefer = {{ site.preferences | jsonify }};  // Defaults, updates cache in this object
    const use = Object.fromEntries( // Map of setters, use these
      Object.keys(prefer).map((k) => {
        prefer[k] = preferences.retain(k, prefer[k], { force: false });  // init
        return [k, on => prefer[k] = preferences.use(k)(on)];  // call
      }));
  </script>
</head>
<body>
  <div id="scroll-top" style="display: none !important;">
    <button
      id="preferences-toggle"
      aria-haspopup="true"
      aria-expanded="false"
      aria-controls="preferences"
    ></button>
    <form data-scope="{{ page.preferences }}" id="preferences" role="region" aria-labelledby="preferences-toggle">
      <label for="prefer-dark"><input id="prefer-dark" type="checkbox" name="dark" onchange="use.dark(this.checked)" />Darken</label>
    </form>
  </div>
  <div id="title-stack" class="brand" role="banner" aria-label="Project title">
    <a href="/" style="display: flex; justify-content: center;">
    <h1 id="title-stroke" inert>{{ site.title }}</h1>
    <h1 id="title" aria-describe="Title:">{{ site.title }}</h1>
    </a>
  </div>
  <main class="content">
    {{ content }}
  </main>
  <div id="footer">
    <p id="replication">
      {{ site.civic_node }} Civic Node
      <br>{{ site.civic_tag }}
      <br><a href="{{ site.license_url }}" target="_blank">
        <img
          style="width: auto"
          src="{{ site.license_badge }}"
        />
      </a>
    </p>
  </div>
</body>
</html>
